# 更新历史

本文档记录了 Nyaser Maps Downloader 的所有版本更新历史。

## [3.0.0] - 2026-02-18

### 新增
- 添加token验证并重构消息格式

### 重构
- 改进token验证逻辑的错误处理

## [2.9.3] - 2026-02-18

### 修复
- 正确处理重启时的命令行参数

### 新增
- 添加helper进程处理符号链接权限问题

## [2.9.2] - 2026-02-15

### 修复
- 修正服务器列表中的名称大小写错误

## [2.9.1] - 2026-02-15

### 修复
- 在管理员权限请求失败时显示错误消息

## [2.9.0] - 2026-02-15

### 新增
- 添加符号链接支持验证和管理员重启功能

## [2.8.2] - 2026-02-14

### 修复
- 跳过非nmd_link_开头的符号链接检查

### 优化
- 更新服务器列表，添加Left 4 Tools并移除ssdweb

## [2.8.1] - 2026-02-15

### 重构
- 简化配置文件和命令返回类型

### 文档
- 更新版本历史记录和README文档

## [2.8.0] - 2026-02-07

### 新增
- 添加依赖复制工具并集成fuse.js
- 实现模糊搜索功能并优化文件列表加载逻辑

### 重构
- 优化插件主HTML文件中的代码结构和加载逻辑
- 使用动态导入优化资源加载方式

### 文档
- 更新历史记录和README文档

## [2.7.9] - 2026-02-07

### 样式
- 简化筛选标签的文本描述

## [2.7.8] - 2026-02-07

### 新增
- 添加分组搜索功能

## [2.7.7] - 2026-02-07

### 新增
- 添加分类和挂载状态筛选功能

## [2.7.6] - 2026-02-07

### 新增
- 添加文件分类功能及样式

## [2.7.5] - 2026-02-07

### 新增
- 添加春风服务器到列表

## [2.7.4] - 2026-02-06

### 新增
- 子窗口继承主窗口位置和大小

## [2.7.3] - 2026-02-06

### 新增
- 添加清理无效链接功能

### 重构
- 调整窗口尺寸和标题并简化配置格式

## [2.7.2] - 2026-02-06

### 修复
- 只处理vpk文件并添加相应错误检查

## [2.7.1] - 2026-01-22

### 样式
- 移除容器宽度限制并优化文件管理器布局

## [2.7.0] - 2026-01-22

### 新增
- 实现服务器列表功能并优化相关代码

### 样式
- 优化界面样式和交互体验

## [2.6.4] - 2026-01-17

### 优化
- 重构下载解压状态显示逻辑

## [2.6.3] - 2026-01-17

### 修复
- 依次处理拖拽文件以避免并发问题

## [2.6.2] - 2026-01-17

### 新增
- 添加自然排序功能以优化文件列表显示

## [2.6.1] - 2026-01-17

### 修复
- 解码URL中的文件名以处理特殊字符

## [2.6.0] - 2026-01-17

### 修复
- 更新链接匹配规则以支持更多域名

### 优化
- 简化任务列表处理逻辑

## [2.5.2] - 2026-01-17

### 新增
- 添加压缩包拖拽解压功能
- 添加解压队列管理功能

## [2.5.1] - 2026-01-17

### 优化
- 移除未使用的 aria2c 后端初始化代码

## [2.5.0] - 2026-01-17

### 新增
- 添加压缩包名称字段以支持子文件夹创建功能

## [2.4.7] - 2026-01-17

### 优化
- 简化 7zip 解压时的文件名提取逻辑
- 移除未使用的任务ID参数

## [2.4.6] - 2026-01-17

### 修复
- 防止重启时重复清理资源并关闭所有窗口

## [2.4.5] - 2026-01-17

### 优化
- 将压缩包验证逻辑提取为独立函数

## [2.4.4] - 2026-01-17

### 优化
- 移除冗余的文件大小检查并添加 Windows 创建标志

## [2.4.3] - 2026-01-17

### 优化
- 将下载目录改为缓存目录并简化清理逻辑

## [2.4.2] - 2026-01-17

### 优化
- 简化资源初始化和路径管理

## [2.4.1] - 2026-01-17

### 文档
- 在 README 中添加 reqwest 依赖说明

## [2.4.0] - 2026-01-17

### 新增
- 使用 reqwest 替换 PowerShell 实现 RPC 请求

### 优化
- 清理未使用的依赖项

## [2.3.1] - 2026-01-17

### 文档
- 更新 README 文档说明自动清理功能

### 修复
- 在应用重启前清理资源

## [2.3.0] - 2026-01-17

### 文档
- 更新 README 以反映最新功能和技术栈
- 更新 README 文档内容与功能描述

### 优化
- 优化代码格式和脚本逻辑
- 移除未使用的 fs 插件并优化依赖管理

## [2.2.2] - 2026-01-17

### 新增
- 增强应用关闭时的资源清理机制

## [2.2.1] - 2026-01-17

### 优化
- 重构文件管理器界面和功能逻辑

## [2.2.0] - 2026-01-17

### 优化
- 重构资源加载和目录管理逻辑

### 构建
- 添加 7z.exe 到 Tauri 二进制目录

## [2.1.2] - 2026-01-17

### 优化
- 优化事件监听代码结构
- 优化 Tauri API 导入方式

## [2.1.1] - 2026-01-17

### 修复
- 修复资源路径编码问题

## [2.1.0] - 2026-01-17

### 优化
- 优化资源请求处理逻辑并简化错误处理
- 优化 Tauri API 检测和资源加载逻辑

## [2.0.0] - 2026-01-17

### 优化
- 将资源目录从 asset 重命名为 assets 并更新相关路径

### 新增
- 在窗口标题中添加版本号

### 优化
- 使用 rmSync 替代已废弃的 rmdirSync

## [1.14.3] - 2026-01-17

### 优化
- 重构资源文件处理逻辑以使用全局应用句柄

## [1.14.2] - 2026-01-17

### 优化
- 重构应用初始化逻辑为模块化函数
- 提取队列处理逻辑到独立函数以提高可读性
- 重构资产协议处理逻辑，提取公共函数
- 重构解压任务处理逻辑为模块化函数
- 提取窗口操作逻辑为可复用函数
- 提取下载任务管理逻辑到独立函数
- 重构 PowerShell RPC 请求处理逻辑
- 使用 lazy_static 优化正则表达式初始化

## [1.14.1] - 2026-01-17

### 性能
- 优化队列处理和锁管理以减少争用

## [1.14.0] - 2026-01-17

### 新增
- 添加解压后自动挂载功能并更新 CSP 策略

## [1.13.1] - 2026-01-17

### 优化
- 添加遮罩层防止用户操作时的误触

## [1.13.0] - 2026-01-17

### 新增
- 添加配置保存和错误处理功能
- 添加批量挂载卸载功能及优化初始化流程
- 重构目录管理并添加 maps 目录支持
- 添加删除分组功能并优化批量删除逻辑
- 实现文件挂载功能并优化文件管理器界面

### 优化
- 重构文件管理器和资源加载逻辑
- 重构文件管理和配置系统，添加 Tauri 文件系统插件支持

### 修复
- 在配置数据存储目录失败时添加重试机制

## [1.12.4] - 2025-12-18

### 优化
- 使用工具函数获取文件名替代手动处理

## [1.12.3] - 2025-12-06

### 优化
- 统一任务队列方法命名并优化代码
- 重构下载队列处理逻辑以支持三方地图格式
- 添加批量操作任务队列的方法

## [1.12.2] - 2025-12-06

### 新增
- 添加未完成任务确认对话框

## [1.12.1] - 2025-12-05

### 优化
- 重构任务队列管理逻辑，优化任务处理流程
- 提取刷新下载队列操作为独立函数

## [1.12.0] - 2025-12-04

### 新增
- 添加仅保存文件选项并优化下载流程

## [1.11.0] - 2025-12-04

### 新增
- 添加下载文件保存路径功能并优化下载流程

## [1.10.3] - 2025-12-03

### 优化
- 更新自动更新检查的端点 URL

## [1.10.2] - 2025-12-02

### 构建
- 添加 deep-link 配置

## [1.10.1] - 2025-12-02

### 新增
- 添加深链接准备命令并优化处理逻辑

## [1.10.0] - 2025-12-02

### 文档
- 完善代码注释和错误信息格式

## [1.9.8] - 2025-12-01

### 优化
- 简化 DOM 观察器逻辑并移除冗余代码

## [1.9.6] - 2025-11-30

### 新增
- 添加 URL 文件名提取工具模块

## [1.9.5] - 2025-11-30

### 优化
- 使用正则表达式优化下载链接检测逻辑

## [1.9.4] - 2025-11-30

### 修复
- 增加 user-agent 并调整下载重试参数

## [1.9.3] - 2025-12-01

### 优化
- 移除未使用的 regex 库
- 改用本地代理，不暴露百度网盘链接，也不需要转换代理链接了

## [1.8.4] - 2025-11-28

### 新增
- 添加对百度网盘下载链接的支持

## [1.8.3] - 2025-11-28

### 文档
- 更新 README 文档以反映最新功能变化

## [1.8.2] - 2025-11-27

### 优化
- 将 println 替换为 log_info 以改进日志记录

## [1.8.1] - 2025-11-27

### 优化
- 完善压缩配置选项的注释说明

## [1.8.0] - 2025-11-27

### 优化
- 移除未使用的 check_task_exists 函数

## [1.7.13] - 2025-11-27

### 修复
- 修改取消下载逻辑仅取消排队任务

## [1.7.12] - 2025-11-27

### 优化
- 将压缩配置提取到单独文件并优化文件插入逻辑

## [1.7.11] - 2025-11-27

### 新增
- 添加文件管理器功能并优化资源压缩

## [1.7.10] - 2025-11-27

### 新增
- 添加分组显示和批量操作功能

## [1.7.9] - 2025-11-27

### 新增
- 添加生产环境构建脚本并支持多环境配置

## [1.7.8] - 2025-11-27

### 新增
- 增强下载任务监控与取消功能

## [1.7.7] - 2025-11-27

### 新增
- 新增刷新队列和取消全部下载功能

## [1.7.6] - 2025-11-27

### 新增
- 添加下载队列状态显示功能

## [1.7.5] - 2025-11-27

### 新增
- 添加下载任务取消功能

## [1.7.4] - 2025-11-27

### 优化
- 提取工具栏按钮创建逻辑为通用函数

## [1.7.3] - 2025-11-27

### 优化
- 将 download 命令重命名为 install 以更准确描述功能

## [1.7.2] - 2025-11-27

### 修复
- 改进下载链接检测和资源清理逻辑

## [1.7.1] - 2025-11-27

### 新增
- 添加服务器列表窗口并改进窗口管理功能

## [1.7.0] - 2025-11-27

### 修复
- 更新前端构建路径和文件管理器图标

## [1.6.7] - 2025-11-27

### 新增
- 添加文件管理器窗口及相关功能

## [1.6.6] - 2025-11-27

### 新增
- 添加临时解压目录并实现文件重命名功能

## [1.6.5] - 2025-11-27

### 优化
- 重构标准库导入语句为多行格式以提高可读性

## [1.6.3] - 2025-11-27

### 新增
- 添加外部链接打开功能并更新版本至 1.3.0

## [1.6.2] - 2025-11-27

### 优化
- 实现通用队列管理器并重构下载和解压模块

## [1.6.1] - 2025-11-27

### 优化
- 将解压功能从 download_manager 分离到 extract_manager 模块

## [1.6.0] - 2025-11-27

### 优化
- 格式化代码并移除调试日志

## [1.5.0] - 2025-11-27

### 新增
- 升级版本至 1.2.3 并改进中间件加载逻辑

## [1.4.3] - 2025-11-27

### 修复
- 移除日志功能的 debug 条件编译并修改 webview 安装模式

## [1.4.2] - 2025-11-27

### 新增
- 升级 7z 解压功能并优化资源管理

## [1.4.1] - 2025-11-27

### 优化
- 清理未使用的 7z DLL 文件并优化代码格式

## [1.4.0] - 2025-11-27

### 新增
- 添加 aria2c 进程监控和优化清理逻辑

## [1.3.0] - 2025-11-27

### 初始版本
- first commit
